/*! mctad 2014-06-01 */
mctad={version:"0.1.0"},mctad.π=Math.PI,mctad.ε=1e-4,mctad.isInteger=function(a){return/^-?\d+$/.test(a)},mctad.allPositive=function(a){for(var b=!0,c=0;c<a.length;c++)if(a[c]<0){b=!1;break}return console.log(c),b},mctad.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},mctad.sortNumeric=function(a){return a.sort(function(a,b){return a-b}),a},mctad.toRadians=function(a){return"string"==typeof a||a instanceof String?"°"===a.trim().slice(-1)?Math.PI/180*parseFloat(a):parseFloat(a):a},mctad.getRandomArbitrary=function(a,b){return Math.random()*(b-a)+a},mctad.getRandomInt=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},mctad.factorial=function(a){if(0>a)return null;for(var b=1,c=2;a>=c;c++)b*=c;return b},mctad.combination=function(a,b){return 0>a||0>b?void 0:b>a?0:this.factorial(a)/(this.factorial(b)*this.factorial(a-b))},mctad.arithmeticMean=function(a){return Array.isArray(a)&&0!==a.length?this.sum(a)/a.length:void 0},mctad.circularStandardDeviation=function(a){return Math.sqrt(-2*Math.log(1-this.meanResultantLength(a)))},mctad.circularVariance=function(a){return 1-this.meanResultantLength(a)},mctad.meanDirection=function(a){if(0===a.length)return null;var b,c,d,e={c:0,s:0};for(i=0;i<a.length;i++)e.c+=Math.cos(this.toRadians(a[i])),e.s+=Math.sin(this.toRadians(a[i]));return b=e.c/a.length,c=e.s/a.length,d=b>=0?Math.atan(c/b):Math.atan(c/b)+this.π},mctad.mean_resultant_length=function(a){if(0===a.length)return null;var b,c,d,e={c:0,s:0};for(i=0;i<a.length;i++)e.c+=Math.cos(this.toRadians(a[i])),e.s+=Math.sin(this.toRadians(a[i]));return b=e.c/a.length,c=e.s/a.length,d=Math.sqrt(Math.pow(b,2)+Math.pow(c,2))},mctad.medianDirection=function(){},mctad.geometricMean=function(a){return Array.isArray(a)&&0!==a.length&&this.allPositive(a)?Math.pow(this.product(a),1/a.length):void 0},mctad.mean=function(a){return this.arithmeticMean(a)},mctad.median=function(a){return Array.isArray(a)&&0!==a.length?(this.sortNumeric(a),a.length%2===0?(a[a.length/2-1]+a[a.length/2])/2:a[(a.length+1)/2-1]):null},mctad.mode=function(a){if(!Array.isArray(a)||0===a.length)return null;for(var b=[],c={},d=0,e=0;e<a.length;e++)c.hasOwnProperty(a[e])?c[a[e]]++:c[a[e]]=1,c[a[e]]>d&&(d=c[a[e]]);for(var f in c)c.hasOwnProperty(f)&&c[f]===d&&b.push(parseInt(f));return this.sortNumeric(b),b},mctad.product=function(a){if(!Array.isArray(a)||0===a.length)return void 0;for(var b=1,c=0;c<a.length;c++)b*=a[c];return b},mctad.sampleStandardDeviation=function(a){return Array.isArray(a)&&0!==a.length?Math.sqrt(this.sampleVariance(a)):null},mctad.sampleVariance=function(a){if(!Array.isArray(a)||0===a.length)return null;for(var b,c=0,d=0,e=0,f=0,g=0;g<a.length;g++)e++,b=a[g]-c,c+=b/e,f+=b*(a[g]-c);return d=f/(e-1)},mctad.sum=function(a){if(!Array.isArray(a)||0===a.length)return void 0;for(var b=0,c=0;c<a.length;c++)b+=a[c];return b},mctad.mixins={P:function(a){return this.hasOwnProperty(a)?this[a].pmf:0},F:function(a){return this.hasOwnProperty(a)?this[a].cdf:a<this.domain.min?0:a>this.domain.max?1:void 0}},mctad.bernoulli={distribution:function(a){if(0>a||a>1)return void 0;var b={mean:a,median:function(){return.5>a?0:.5===a?.5:1}(),mode:function(){return.5>a?[0]:.5===a?[0,1]:[1]}(),variance:a*(1-a),skewness:(1-a)*a/Math.sqrt(a*(1-a)),entropy:-(1-a)*Math.log(1-a)-a*Math.log(a),domain:{min:0,max:1},generate:function(){return mctad.getRandomArbitrary(0,1)<=a?1:0}};return b[0]={pmf:1-a,cdf:1-a},b[1]={pmf:a,cdf:1},mctad.extend(b,mctad.mixins),b}},mctad.binomial={distribution:function(a,b){if(0>b||b>1||!mctad.isInteger(a)||0>=a)return void 0;var c,d=0,e=0,f={mean:a*b,variance:a*b*(1-b),skewness:(1-2*b)/Math.sqrt(a*b*(1-b)),domain:{min:0,max:1/0}};do c=mctad.factorial(a)/(mctad.factorial(d)*mctad.factorial(a-d))*Math.pow(b,d)*Math.pow(1-b,a-d),e+=c,f[d]={pmf:c,cdf:e},d++;while(f[d-1].cdf<1-mctad.ε);return f.domain.max=d-1,mctad.extend(f,mctad.mixins),f}},mctad.geometric={distribution:function(a){if(0>=a||a>1)return void 0;var b,c=0,d=0,e={mean:(1-a)/a,mode:0,variance:(1-a)/Math.pow(a,2),skewness:(2-a)/Math.sqrt(1-a),domain:{min:0,max:1/0},generate:function(b){for(var c=[],d=0;b>d;d++)c.push(Math.floor(Math.log(mctad.getRandomArbitrary(0,1))/Math.log(1-a)));return c}};do b=a*Math.pow(1-a,c),d+=b,e[c]={pmf:b,cdf:d},c++;while(e[c-1].cdf<1-mctad.ε);return e.domain.max=c-1,mctad.extend(e,mctad.mixins),e}},mctad.hypergeometric={distribution:function(a,b,c){if(!mctad.isInteger(a)||!mctad.isInteger(b)||!mctad.isInteger(c)||0>a||b>a||c>a)return void 0;var d,e=0,f=0,g={mean:c*b/a,median:void 0,mode:Math.floor((c+1)*(b+1)/(a+2)),variance:c*(b/a)*(a-b)/a*(a-c)/(a-1),skewness:(a-2*b)*Math.pow(.5*(a-2*n_))/(Math.pow(c*b*(a-b)*(a-c)),.5)*(a-2),domain:{min:0,max:1/0}};do d=this.combination(b,k)*this.combination(a-b,c-k)/this.combination(a,b),f+=d,g[e]={pmf:d,cdf:f},e++;while(g[e-1].cdf<1-mctad.ε);return g.domain.max=e-1,mctad.extend(g,mctad.mixins),g}},mctad.pascal={distribution:function(a,b){if(0>=b||b>=1||!mctad.isInteger(a)||0>=a)return void 0;var c,d=0,e=0,f={mean:a*b/(1-b),mode:function(){return a>1?Math.floor(b*(a-1)/(1-b)):0}(),variance:a*b/Math.pow(1-b,2),skewness:(1+b)/Math.sqrt(a*b),domain:{min:0,max:1/0}};do c=mctad.combination(d+a-1,d)*Math.pow(1-b,a)*Math.pow(b,d),e+=c,f[d]={pmf:c,cdf:e},d++;while(f[d-1].cdf<1-mctad.ε);return f.domain.max=d-1,mctad.extend(f,mctad.mixins),f}},mctad.poisson={distribution:function(a){if(0>=a)return null;var b,c=0,d=0,e={mean:a,median:Math.floor(a+1/3-.02/a),mode:[Math.floor(a),Math.ceil(a)-1],variance:a,skewness:Math.pow(a,.5),domain:{min:0,max:1/0}};do b=Math.pow(Math.E,-a)*Math.pow(a,c)/mctad.factorial(c),d+=b,e[c]={pmf:b,cdf:d},c++;while(e[c-1].cdf<1-mctad.ε);return e.domain.max=c-1,mctad.extend(e,mctad.mixins),e}},mctad.discreteUniform={distribution:function(a,b){if(a>b||!mctad.isInteger(a)||!mctad.isInteger(b))return void 0;var c,d,e=0,f={mean:(a+b)/2,median:(a+b)/2,mode:void 0,variance:(Math.pow(b-a+1,2)-1)/12,skewness:0,entropy:Math.log(b-a+1),domain:{min:a,max:b},generate:function(c){for(var d=[],e=0;c>e;e++)d.push(mctad.getRandomInt(a,b));return d}};for(c=a;b>=c;c++)d=1/(b-a+1),e+=d,f[c]={pmf:d,cdf:e};return mctad.extend(f,mctad.mixins),f}},mctad.triangular={distribution:function(a,b,c){if(a>=b||a>=c||c>=b)return void 0;var d,e,f={mean:(a+b+c)/3,median:function(){return c>(a+b)/2?a+Math.sqrt((b-a)*(c-a))/Math.sqrt(2):b-Math.sqrt((b-a)*(b-c))/Math.sqrt(2)}(),mode:c,variance:(Math.pow(a,2)+Math.pow(b,2)+Math.pow(c,2)-a*b-a*c-b*c)/18,skewness:Math.sqrt(2)*(a+b-2*c)*(2*a-b-c)*(a-2*b+c)/(5*Math.pow(Math.pow(a,2)+Math.pow(b,2)+Math.pow(c,2)-a*b-a*c-b*c,1.5)),domain:{min:a,max:b},generate:function(d){for(var e=[],f=0;d>f;f++){var g=mctad.getRandomArbitrary(0,1);e.push(g<=mctad.triangular.cdf(c)?a+Math.sqrt(g*(b-a)*(c-a)):b-Math.sqrt((1-g)*(b-a)*(b-c)))}return e}};return d=function(){return e>=a&&c>=e?2*(e-a)/((b-a)*(c-a)):e>c&&b>=e?2*(b-e)/((b-a)*(b-c)):0},cdf=function(){return a>e?0:e>=a&&c>=e?Math.pow(e-a,2)/((b-a)*(c-a)):e>c&&b>=e?1-Math.pow(b-e,2)/((b-a)*(b-c)):1},f[e]={pmf:d,cdf:cdf},f}},mctad.uniform=function(a,b){if(a>=b)return void 0;var d,e={mean:(a+b)/2,median:(a+b)/2,variance:Math.pow(b-a,2)/12,skewness:0,generate:function(c){for(var d=[],e=0;c>e;e++)d.push(a+(b-a)*mctad.getRandomArbitrary(0,1));return d},pmf:function(c){return c>=a&&b>=c?1/(b-a):0},cdf:function(){return a>d?0:d>=a&&c>=d?Math.pow(d-a,2)/((b-a)*(c-a)):d>c&&b>=d?1-Math.pow(b-d,2)/((b-a)*(b-c)):1}};return e};