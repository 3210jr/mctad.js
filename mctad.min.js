/*! mctad 2014-05-30 */
mctad={version:"0.1.0"},mctad.π=Math.PI,mctad.ε=1e-4,mctad.isInteger=function(a){return/^-?\d+$/.test(a)},mctad.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},mctad.sortNumeric=function(a){return a.sort(function(a,b){return a-b}),a},mctad.toRadians=function(a){return"string"==typeof a||a instanceof String?"°"===a.trim().slice(-1)?Math.PI/180*parseFloat(a):parseFloat(a):a},mctad.factorial=function(a){if(0>a)return null;for(var b=1,c=2;a>=c;c++)b*=c;return b},mctad.arithmeticMean=function(a){return Array.isArray(a)&&0!==a.length?this.sum(a)/a.length:void 0},mctad.circularStandardDeviation=function(a){return Math.sqrt(-2*Math.log(1-this.meanResultantLength(a)))},mctad.circularVariance=function(a){return 1-this.meanResultantLength(a)},mctad.meanDirection=function(a){if(0===a.length)return null;var b,c,d,e={c:0,s:0};for(i=0;i<a.length;i++)e.c+=Math.cos(this.toRadians(a[i])),e.s+=Math.sin(this.toRadians(a[i]));return b=e.c/a.length,c=e.s/a.length,d=b>=0?Math.atan(c/b):Math.atan(c/b)+this.π},mctad.mean_resultant_length=function(a){if(0===a.length)return null;var b,c,d,e={c:0,s:0};for(i=0;i<a.length;i++)e.c+=Math.cos(this.toRadians(a[i])),e.s+=Math.sin(this.toRadians(a[i]));return b=e.c/a.length,c=e.s/a.length,d=Math.sqrt(Math.pow(b,2)+Math.pow(c,2))},mctad.medianDirection=function(){},mctad.geometricMean=function(a){return Array.isArray(a)&&0!==a.length?Math.pow(this.product(a),1/a.length):void 0},mctad.mean=function(a){return this.arithmeticMean(a)},mctad.median=function(a){return Array.isArray(a)&&0!==a.length?(this.sortNumeric(a),a.length%2===0?(a[a.length/2-1]+a[a.length/2])/2:a[(a.length+1)/2-1]):null},mctad.mode=function(a){if(!Array.isArray(a)||0===a.length)return null;for(var b=[],c={},d=0,e=0;e<a.length;e++)c.hasOwnProperty(a[e])?c[a[e]]++:c[a[e]]=1,c[a[e]]>d&&(d=c[a[e]]);for(var f in c)c.hasOwnProperty(f)&&c[f]===d&&b.push(parseInt(f));return this.sortNumeric(b),b},mctad.product=function(a){if(!Array.isArray(a)||0===a.length)return void 0;for(var b=1,c=0;c<a.length;c++)b*=a[c];return b},mctad.sampleStandardDeviation=function(a){return Array.isArray(a)&&0!==a.length?Math.sqrt(this.sampleVariance(a)):null},mctad.sampleVariance=function(a){if(!Array.isArray(a)||0===a.length)return null;for(var b,c=0,d=0,e=0,f=0,g=0;g<a.length;g++)e++,b=a[g]-c,c+=b/e,f+=b*(a[g]-c);return d=f/(e-1)},mctad.sum=function(a){if(!Array.isArray(a)||0===a.length)return void 0;for(var b=0,c=0;c<a.length;c++)b+=a[c];return b},mctad.mixins={P:function(a){return this.hasOwnProperty(a)?this[a].pdf:0},F:function(a){return this.hasOwnProperty(a)?this[a].cdf:a<this.domain.min?0:a>this.domain.max?1:void 0}},mctad.bernoulli={distribution:function(a){return 0>a||a>1?null:mctad.binomial.distribution(1,a)}},mctad.binomial={distribution:function(a,b){if(0>b||b>1||!mctad.isInteger(a)||0>=a)return null;var c,d=0,e=0,f={mean:a*b,variance:a*b*(1-b),domain:{min:0,max:1/0}};do c=mctad.factorial(a)/(mctad.factorial(d)*mctad.factorial(a-d))*Math.pow(b,d)*Math.pow(1-b,a-d),e+=c,f[d]={pdf:c,cdf:e},d++;while(f[d-1].cdf<1-mctad.ε);return f.domain.max=d-1,mctad.extend(f,mctad.mixins),f}},mctad.geometric={distribution:function(a){if(0>=a||a>=1)return null;var b,c=0,d=0,e={mean:(1-a)/a,variance:(1-a)/Math.pow(a,2),domain:{min:0,max:1/0}};do b=a*Math.pow(1-a,c),d+=b,e[c]={pdf:b,cdf:d},c++;while(e[c-1].cdf<1-mctad.ε);return e.domain.max=c-1,mctad.extend(e,mctad.mixins),e}},mctad.hypergeometric={distribution:function(a){if(0>=a||a>=1)return null;var b,c=0,d=0,e={mean:(1-a)/a,variance:(1-a)/Math.pow(a,2),domain:{min:0,max:1/0}};do b=a*Math.pow(1-a,c),d+=b,e[c]={pdf:b,cdf:d},c++;while(e[c-1].cdf<1-mctad.ε);return e.domain.max=c-1,mctad.extend(e,mctad.mixins),e}},mctad.poisson={distribution:function(a){if(0>=a)return null;var b,c=0,d=0,e={mean:a,variance:a,domain:{min:0,max:1/0}};do b=Math.pow(Math.E,-a)*Math.pow(a,c)/mctad.factorial(c),d+=b,e[c]={pdf:b,cdf:d},c++;while(e[c-1].cdf<1-mctad.ε);return e.domain.max=c-1,mctad.extend(e,mctad.mixins),e}},mctad.discrete_uniform={distribution:function(a,b){if(a>b||!mctad.isInteger(a)||!mctad.isInteger(b))return null;var c,d,e=0,f={mean:(a+b)/2,variance:(Math.pow(b-a+1,2)-1)/12,domain:{min:a,max:b}};for(c=a;b>=c;c++)d=1/(b-a+1),e+=d,f[c]={pdf:d,cdf:e};return mctad.extend(f,mctad.mixins),f}},mctad.triangular={distribution:function(a,b,c){if(a>=b||a>=c||c>=b)return null;var d,e,f={mean:(a+b+c)/3,variance:(Math.pow(a,2)+Math.pow(b,2)+Math.pow(c,2)-a*b-a*c-b*c)/18,mode:c};return d=function(){return e>=a&&c>=e?2*(e-a)/((b-a)*(c-a)):e>c&&b>=e?2*(b-e)/((b-a)*(b-c)):0},cumulative_probability_of_x=function(){return a>e?0:e>=a&&c>=e?Math.pow(e-a,2)/((b-a)*(c-a)):e>c&&b>=e?1-Math.pow(b-e,2)/((b-a)*(b-c)):1},f[e]={probability_of_x:d,cumulative_probability_of_x:cumulative_probability_of_x},f}},mctad.uniform={distribution:function(a,b){if(a>=b)return null;var c,d,e=0,f={mean:(a+b)/2,variance:Math.pow(b-a,2)/12};for(d=i;j>=d;d++)c=1/(b-a),e+=c,f[d]={probability_of_x:c,cumulative_probability_of_x:e};return f}};